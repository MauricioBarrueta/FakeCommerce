<section class="py-8 md:py-16">
  <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">
    <h2 class="text-2xl font-semibold text-[var(--gunmetal)]">Tu lista de favoritos:</h2>
  
    <div class="mt-6 sm:mt-8 md:gap-6 lg:flex lg:items-start xl:gap-8">
      <!-- Card -->
      <div class="w-full flex-none">
        <div class="space-y-6">
          @for (product of favsList$ | async; track $index) {
            <div class="rounded border border-[var(--gunmetal)] bg-white text-[var(--gunmetal)] p-4">
              <div class="space-y-4 md:flex md:items-center md:justify-start md:gap-6 md:space-y-0">
                <a class="shrink-0 md:order-1" (click)="getProductDetails(product.id)">
                  <img class="h-32 w-32 hover:scale-105 transition duration-200 linear cursor-pointer" [src]="product.images[0]" [alt]="product.title">
                </a>

                <div class="flex justify-center items-center md:order-3 py-4">
                  <div class="ml-6 text-center">
                    <p class="text-xl font-bold">${{ product.price | number:'1.2-2' }} <span class="text-sm font-normal text-[var(--burnt-sienna)] ml-1">-{{ product.discountPercentage }}%</span></p>
                    <p class="text-sm font-medium mt-2">Estado: <span class="ml-1" [ngClass]="product.stock > 0 ? 'text-green-500' : 'text-red-500'">{{ product.stock > 0 ? 'En stock' : 'Agotado' }}</span></p>
                  </div>
                </div>
            
                <div class="w-full min-w-0 flex-1 space-y-4 md:order-2 cursor-default">
                  <p class="text-lg font-medium mb-1">{{product.title}}</p>
                  <p class="text-base">{{product.description}}</p>
            
                  <div class="flex items-center gap-4">
                    <button [disabled]="isInCart(product.id)" (click)="addToCartFromFav(product)" class="rounded text-sm font-medium transition duration-200 flex items-center gap-2"
                      [ngClass]="isInCart(product.id) ? 'bg-transparent text-gray-500 cursor-default' : 'px-4 py-2 bg-[var(--yinmn-blue)] text-white hover:bg-[var(--yinmn-blue-shadow)] cursor-pointer'">
                      <i class="fa-solid" [ngClass]="isInCart(product.id) ? 'fa-square-check' : 'fa-cart-plus'"></i>{{ isInCart(product.id) ? 'Agregado' : 'Agregar al carrito' }}
                    </button>
                    @if (isInCart(product.id)) {
                      <button [routerLink]="['/cart']" class="flex items-center gap-2 px-4 py-2 rounded border border-[var(--yinmn-blue)] text-[var(--yinmn-blue)] text-sm bg-white hover:bg-[var(--yinmn-blue)] hover:text-white transition duration-200 cursor-pointer">
                        <i class="fa-solid fa-cart-shopping"></i><span>Ver en el carrito</span>
                      </button>
                    }
                    <button type="button" (click)="removeFavorite(product)" class="text-sm text-red-500 hover:text-red-600 transition duration-200 cursor-pointer flex items-center gap-1"><i class="fa-solid fa-trash-can"></i>Eliminar</button>
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</section>